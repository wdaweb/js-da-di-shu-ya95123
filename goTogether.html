<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天堂見 We will see in Heaven</title>
    <!-- css reset -->
    <link rel="stylesheet" href="/css/reset.css">
    <!-- 連結 css 樣式 -->
    <link rel="stylesheet" href="/css/goTogether.css">
</head>

<body>
    <div id="top">
        <p id="text-timeleft">30 s</p>
        <p id="text-score">Score：0 分</p>
        <div id="picExframe">
            <table>
                <tr>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/fish.png" alt="fish">
                    </td>
                    <td class="exCalc red">+1分</td>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/sad-people.png" alt="sad-people">
                    </td>
                    <td class="exCalc red">+3分</td>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/sushi.png" alt="sushi"></td>
                    <td class="exCalc red">+0分</td>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/egg.png" alt="egg"></td>
                    <td class="exCalc red">+10分</td>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/red-evil.png" alt="red-evil"></td>
                    <td class="exCalc">-0分</td>
                    <td class="exLeft" rowspan="2"><img class="picEx" src="/images/yellow-evil.png" alt="yellow-evil">
                    </td>
                    <td class="exCalc">-2分</td>
                </tr>
                <tr>
                    <td class="exCalc red">+1秒</td>
                    <td class="exCalc red">+0秒</td>
                    <td class="exCalc red">+3秒</td>
                    <td class="exCalc red">+0秒</td>
                    <td class="exCalc">-1秒</td>
                    <td class="exCalc">-0秒</td>
                </tr>
            </table>
        </div>
        <!-- <div id="picExframe">
            <div><img class="picEx" src="/images/fish.png" alt="fish"></div>
            <div><img class="picEx" src="/images/sad-people.png" alt="sad-people"></div>
            <div><img class="picEx" src="/images/sushi.png" alt="sushi"></div>
            <div><img class="picEx" src="/images/egg.png" alt="egg"></div>
            <div><img class="picEx" src="/images/red-evil.png" alt="red-evil"></div>
            <div><img class="picEx" src="/images/yellow-evil.png" alt="yellow-evil"></div>
        </div> -->
    </div>

    <div id="left">
        <p class="sideP">排行榜</p>
        <!-- 設空陣列，用迴圈跑1-7 放進陣列，有比第七名高，就creatElement讓其顯示 -->
        <div>
            <span class="text-ranknum">1&ensp;</span>
            <span class="text-rankplayer">NewPlayer</span>
            <span class="text-rankscore">70</span>
        </div>

    </div>

    <div id="right">
        <p class="sideP">工具</p>
    </div>

    <div id="middle">
        <table id="gameFrame" border="1">
            <tr>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
            </tr>
            <tr>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
            </tr>
            <tr>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
            </tr>
            <tr>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
            </tr>
            <tr>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
                <td><img src="" alt="" class="hole"></td>
            </tr>
        </table>
    </div>

    <div id="btn-start">Go</div>

    <script>
        // top 剩餘時間、當前分數
        const textTime = document.getElementById("text-timeleft");
        const textScore = document.getElementById("text-score");

        // middle 遊戲畫面、地洞
        const gameFrame = document.getElementById("gameFrame");
        const holes = document.getElementsByClassName("hole");
        const btnStart = document.getElementById("btn-start");

        // left
        const textRankNum = document.getElementsByClassName("text-ranknum");
        const textRankPlayer = document.getElementsByClassName("text-rankplayer");
        const textRankScore = document.getElementsByClassName("text-rankscore");

        // 隨機數 function
        const rand = (min, max) => {
            return Math.round(Math.random() * (max - min) + min);
        }

        // 圖片插入區
        let imgFish = "/images/fish.png";
        let imgSad = "/images/sad-people.png";
        let imgSushi = "/images/sushi.png";
        let imgEgg = "/images/egg.png";
        let imgRedEvil = "/images/red-evil.png";
        let imgYellowEvil = "/images/yellow-evil.png";
        const imgs = [imgFish, imgSad, imgSushi, imgEgg, imgRedEvil, imgYellowEvil];

        // 遊戲變數基本設定區
        let score = 0;
        let inGame = false;
        let timeLeft = 30;
        let timer = 0;
        let rankScore = { name: '', score: 0 };
        let storage = JSON.parse(localStorage.getItem("rankScore"));
        // 要再設定 rank 的分數比較

        btnStart.onclick = () => {
            // 讓btnStart 消失
            btnStart.style.display = "none";
            // 開始遊戲
            inGame = true;
            // 重置分數、起始時間
            score = 0;
            textScore.innerText = `Score：${score} 分`;
            timeLeft = 30;
            textTime.innerText = `${timeLeft} s`;

            timer = setInterval(game, 2000);
            game();
        }

        const game = () => {
            // 清空 hole 圖片
            for (let hole of holes) {
                hole.src = "";
            }
            holes[2].src = imgFish;
            // TODO 隨機選格子，調機率60↓ 61-70..
        }
    </script>

</body>

</html>